@import 'tailwindcss';
@plugin '@tailwindcss/typography';

/* =========================================
   1. å®šä¹‰å˜é‡é€»è¾‘ (Theme Logic)
   ========================================= */

/* --- é»˜è®¤ï¼šäº®è‰²æ¨¡å¼ (Light Mode) --- */
:root {
  /* å“ç‰Œè‰² */
  --color-primary: #ac121f;
  --color-primary-dark: #8a0e19;

  /* æ ¸å¿ƒæ–‡å­—é¢œè‰² (éšä¸»é¢˜å˜) */
  --color-text-main: #18181b; /* æ¥è¿‘çº¯é»‘ */
  --color-text-muted: #71717a; /* ç°è‰²æ–‡å­— */

  /* è¡¨é¢èƒŒæ™¯è‰² (éšä¸»é¢˜å˜ï¼šç™½ -> é»‘) */
  --color-surface-base: #ffffff; /* é¡µé¢èƒŒæ™¯ï¼šçº¯ç™½ */
  --color-surface-card: #ffffff; /* å¡ç‰‡èƒŒæ™¯ï¼šçº¯ç™½ (é€šå¸¸é…åˆè¾¹æ¡†) */
  --color-surface-muted: #f4f4f5; /* æµ…ç°èƒŒæ™¯ (ç”¨äºæ¬¡è¦åŒºåŸŸ) */
  --color-surface-hover: #f4f4f5; /* æ‚¬åœé«˜äº® */
  --color-surface-border: #e4e4e7; /* è¾¹æ¡†ï¼šæµ…ç° */

  /* --- å›ºå®šæ·±è‰² (Fixed Dark) --- */
  /* ç”¨äº Navbar å’Œ Footerï¼Œæ°¸è¿œä¿æŒæ·±è‰²ï¼Œä¸å—ä¸»é¢˜å½±å“ */
  --color-fixed-bg: #050505; /* æ°¸è¿œçš„æ·±é»‘èƒŒæ™¯ */
  --color-fixed-card: #121212; /* æ°¸è¿œçš„å¡ç‰‡æ·±ç° */
  --color-fixed-text: #ffffff; /* æ°¸è¿œçš„ç™½è‰²æ–‡å­— */
  --color-fixed-muted: #a1a1a1; /* æ°¸è¿œçš„ç°è‰²æ–‡å­— */
  --color-fixed-border: #27272a; /* æ°¸è¿œçš„æ·±è‰²è¾¹æ¡† */
}

/* --- è¦†ç›–ï¼šæ·±è‰²æ¨¡å¼ (Dark Mode) --- */
/* å½“ HTML æ ‡ç­¾æœ‰ class="dark" æ—¶ï¼Œè¦†ç›–ä¸Šé¢çš„å˜é‡ */
.dark {
  /* æ ¸å¿ƒæ–‡å­—é¢œè‰² (åè½¬ä¸ºç™½) */
  --color-text-main: #fafafa; /* æ¥è¿‘çº¯ç™½ */
  --color-text-muted: #a1a1a1; /* æµ…ç°æ–‡å­— */

  /* è¡¨é¢èƒŒæ™¯è‰² (å˜é»‘) */
  --color-surface-base: #050505; /* ä½ çš„æ·±è‰²èƒŒæ™¯ #050505 */
  --color-surface-card: #121212; /* ä½ çš„å¡ç‰‡è‰² #121212 */
  --color-surface-muted: #18181b; /* æ·±ç°èƒŒæ™¯ */
  --color-surface-hover: #262626; /* æ‚¬åœé«˜äº® */
  --color-surface-border: #27272a; /* æ·±è‰²è¾¹æ¡† */
}

/* =========================================
   2. æ³¨å†Œåˆ° Tailwind (@theme)
   ========================================= */
@theme {
  /* å“ç‰Œè‰² */
  --color-primary: var(--color-primary);
  --color-primary-dark: var(--color-primary-dark);

  /* è‡ªé€‚åº”é¢œè‰² (ä¼šè‡ªåŠ¨åˆ‡æ¢) */
  /* ä½¿ç”¨æ–¹æ³•: bg-surface-base, text-text-main */
  --color-surface-base: var(--color-surface-base);
  --color-surface-card: var(--color-surface-card);
  --color-surface-muted: var(--color-surface-muted);
  --color-surface-hover: var(--color-surface-hover);
  --color-surface-border: var(--color-surface-border);
  --color-text-main: var(--color-text-main);
  --color-text-muted: var(--color-text-muted);

  /* å›ºå®šé¢œè‰² (æ°¸è¿œæ·±è‰²) */
  /* ä½¿ç”¨æ–¹æ³•: bg-fixed-bg, text-fixed-text */
  --color-fixed-bg: var(--color-fixed-bg);
  --color-fixed-card: var(--color-fixed-card);
  --color-fixed-text: var(--color-fixed-text);
  --color-fixed-muted: var(--color-fixed-muted);
  --color-fixed-border: var(--color-fixed-border);

  /* åŠ¨ç”»å®šä¹‰ */
  --animate-infinite-scroll: infinite-scroll 25s linear infinite;
  @keyframes infinite-scroll {
    from {
      transform: translateX(0);
    }
    to {
      transform: translateX(-100%);
    }
  }
}

/* =========================================
   3. åŸºç¡€æ ·å¼ (@layer base)
   ========================================= */
@layer base {
  /* å…¨å±€ Body: åº”ç”¨è‡ªé€‚åº”å˜é‡ */
  body {
    background-color: var(--color-surface-base);
    color: var(--color-text-main);
    /* å¹³æ»‘è¿‡æ¸¡æ•ˆæœ */
    transition-property:
      color, background-color, border-color, text-decoration-color, fill, stroke;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    transition-duration: 300ms;
  }

  /* MDX æ–‡ç« : è‡ªåŠ¨åè‰² */
  /* ğŸ”¥ æ ¸å¿ƒä¿®å¤ï¼šå¼ºåˆ¶ Prose ä½¿ç”¨æˆ‘ä»¬çš„ä¸»é¢˜å˜é‡ */
  .prose {
    /* 1. æ­£æ–‡é¢œè‰² -> ä½ çš„æ¬¡è¦æ–‡å­—è‰² (ç°/æµ…ç°) */
    --tw-prose-body: var(--color-text-muted);

    /* 2. æ ‡é¢˜é¢œè‰² -> ä½ çš„ä¸»è¦æ–‡å­—è‰² (é»‘/ç™½) */
    --tw-prose-headings: var(--color-text-main);

    /* 3. é“¾æ¥é¢œè‰² -> ä½ çš„å“ç‰Œçº¢ */
    --tw-prose-links: var(--color-primary);

    /* 4. ç²—ä½“é¢œè‰² -> ä½ çš„ä¸»è¦æ–‡å­—è‰² */
    --tw-prose-bold: var(--color-text-main);

    /* 5. åˆ—è¡¨åœ†ç‚¹/æ•°å­—é¢œè‰² */
    --tw-prose-counters: var(--color-text-muted);
    --tw-prose-bullets: var(--color-text-muted);

    /* 6. å¼•ç”¨çº¿é¢œè‰² -> å“ç‰Œçº¢ */
    --tw-prose-quote-borders: var(--color-primary);
    --tw-prose-quotes: var(--color-text-main);

    /* 7. åˆ†å‰²çº¿é¢œè‰² */
    --tw-prose-hr: var(--color-surface-border);

    /* 8. ä»£ç å—é¢œè‰² (ä»£ç å—é€šå¸¸ä¿æŒæ·±è‰²èƒŒæ™¯ï¼Œæ¯”è¾ƒå¥½çœ‹) */
    --tw-prose-code: var(--color-primary);
    --tw-prose-pre-code: #e4e4e7;
    --tw-prose-pre-bg: #18181b;

    /* æœ€å¤§å®½åº¦é™åˆ¶å–æ¶ˆï¼Œå¡«æ»¡å®¹å™¨ */
    max-width: none;
  }
}

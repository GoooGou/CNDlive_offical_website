@import 'tailwindcss';
@plugin '@tailwindcss/typography';

/* =========================================
   1. å®šä¹‰å˜é‡é€»è¾‘ (Theme Logic)
   ========================================= */

/* --- é»˜è®¤ï¼šäº®è‰²æ¨¡å¼ (Light Mode) --- */
:root {
  /* å“ç‰Œè‰² */
  --color-primary: #ac121f;
  --color-primary-dark: #8a0e19;

  /* æ ¸å¿ƒæ–‡å­—é¢œè‰² (éšä¸»é¢˜å˜) */
  --color-text-main: #18181b; /* æ¥è¿‘çº¯é»‘ */
  --color-text-muted: #71717a; /* ç°è‰²æ–‡å­— */

  /* è¡¨é¢èƒŒæ™¯è‰² (éšä¸»é¢˜å˜ï¼šç™½ -> é»‘) */
  --color-surface-base: #ffffff; /* é¡µé¢èƒŒæ™¯ï¼šçº¯ç™½ */
  --color-surface-card: #ffffff; /* å¡ç‰‡èƒŒæ™¯ï¼šçº¯ç™½ (é€šå¸¸é…åˆè¾¹æ¡†) */
  --color-surface-muted: #f4f4f5; /* æµ…ç°èƒŒæ™¯ (ç”¨äºæ¬¡è¦åŒºåŸŸ) */
  --color-surface-hover: #f4f4f5; /* æ‚¬åœé«˜äº® */
  --color-surface-border: #e4e4e7; /* è¾¹æ¡†ï¼šæµ…ç° */

  /* --- å›ºå®šæ·±è‰² (Fixed Dark) --- */
  /* ç”¨äº Navbar å’Œ Footerï¼Œæ°¸è¿œä¿æŒæ·±è‰²ï¼Œä¸å—ä¸»é¢˜å½±å“ */
  --color-fixed-bg: #050505; /* æ°¸è¿œçš„æ·±é»‘èƒŒæ™¯ */
  --color-fixed-card: #121212; /* æ°¸è¿œçš„å¡ç‰‡æ·±ç° */
  --color-fixed-text: #ffffff; /* æ°¸è¿œçš„ç™½è‰²æ–‡å­— */
  --color-fixed-muted: #a1a1a1; /* æ°¸è¿œçš„ç°è‰²æ–‡å­— */
  --color-fixed-border: #27272a; /* æ°¸è¿œçš„æ·±è‰²è¾¹æ¡† */
}

/* --- è¦†ç›–ï¼šæ·±è‰²æ¨¡å¼ (Dark Mode) --- */
/* å½“ HTML æ ‡ç­¾æœ‰ class="dark" æ—¶ï¼Œè¦†ç›–ä¸Šé¢çš„å˜é‡ */
.dark {
  /* æ ¸å¿ƒæ–‡å­—é¢œè‰² (åè½¬ä¸ºç™½) */
  --color-text-main: #fafafa; /* æ¥è¿‘çº¯ç™½ */
  --color-text-muted: #a1a1a1; /* æµ…ç°æ–‡å­— */

  /* è¡¨é¢èƒŒæ™¯è‰² (å˜é»‘) */
  --color-surface-base: #050505; /* ä½ çš„æ·±è‰²èƒŒæ™¯ #050505 */
  --color-surface-card: #121212; /* ä½ çš„å¡ç‰‡è‰² #121212 */
  --color-surface-muted: #18181b; /* æ·±ç°èƒŒæ™¯ */
  --color-surface-hover: #262626; /* æ‚¬åœé«˜äº® */
  --color-surface-border: #27272a; /* æ·±è‰²è¾¹æ¡† */
}

/* =========================================
   2. æ³¨å†Œåˆ° Tailwind (@theme)
   ========================================= */
@theme {
  /* å“ç‰Œè‰² */
  --color-primary: var(--color-primary);
  --color-primary-dark: var(--color-primary-dark);

  /* è‡ªé€‚åº”é¢œè‰² (ä¼šè‡ªåŠ¨åˆ‡æ¢) */
  /* ä½¿ç”¨æ–¹æ³•: bg-surface-base, text-text-main */
  --color-surface-base: var(--color-surface-base);
  --color-surface-card: var(--color-surface-card);
  --color-surface-muted: var(--color-surface-muted);
  --color-surface-hover: var(--color-surface-hover);
  --color-surface-border: var(--color-surface-border);
  --color-text-main: var(--color-text-main);
  --color-text-muted: var(--color-text-muted);

  /* å›ºå®šé¢œè‰² (æ°¸è¿œæ·±è‰²) */
  /* ä½¿ç”¨æ–¹æ³•: bg-fixed-bg, text-fixed-text */
  --color-fixed-bg: var(--color-fixed-bg);
  --color-fixed-card: var(--color-fixed-card);
  --color-fixed-text: var(--color-fixed-text);
  --color-fixed-muted: var(--color-fixed-muted);
  --color-fixed-border: var(--color-fixed-border);

  /* åŠ¨ç”»å®šä¹‰ */
  --animate-infinite-scroll: infinite-scroll 25s linear infinite;
  @keyframes infinite-scroll {
    from {
      transform: translateX(0);
    }
    to {
      transform: translateX(-100%);
    }
  }
}

/* =========================================
   3. åŸºç¡€æ ·å¼ (@layer base)
   ========================================= */
@layer base {
  /* å…¨å±€ Body: åº”ç”¨è‡ªé€‚åº”å˜é‡ */
  body {
    background-color: var(--color-surface-base);
    color: var(--color-text-main);
    /* å¹³æ»‘è¿‡æ¸¡æ•ˆæœ */
    transition-property:
      color, background-color, border-color, text-decoration-color, fill, stroke;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    transition-duration: 300ms;
  }

  /* MDX æ–‡ç« : è‡ªåŠ¨åè‰² */
  /* ğŸ”¥ æ ¸å¿ƒä¿®å¤ï¼šå¼ºåˆ¶ Prose ä½¿ç”¨æˆ‘ä»¬çš„ä¸»é¢˜å˜é‡ */
  .prose {
    /* 1. é»˜è®¤æ­£æ–‡é¢œè‰² (è‡ªåŠ¨é€‚é…ç°/æµ…ç°) */
    color: var(--color-text-muted) !important;

    /* 2. æ‰€æœ‰æ ‡é¢˜ (h1-h6) é¢œè‰² (è‡ªåŠ¨é€‚é…é»‘/ç™½) */
    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
      color: var(--color-text-main) !important;
    }

    /* 3. ç²—ä½“ (strong) é¢œè‰² */
    strong {
      color: var(--color-text-main) !important;
    }

    /* 4. é“¾æ¥ (a) é¢œè‰² (å“ç‰Œçº¢) */
    a {
      color: var(--color-primary) !important;
      text-decoration: none;
    }
    a:hover {
      color: var(--color-primary-dark) !important;
      text-decoration: underline;
    }

    /* 5. åˆ—è¡¨é¡¹ç›®ç¬¦å· (li marker) */
    li::marker {
      color: var(--color-text-muted) !important;
    }

    /* 6. å¼•ç”¨å— (blockquote) */
    blockquote {
      color: var(--color-text-muted) !important;
      border-left-color: var(--color-primary) !important;
    }

    /* 7. ä»£ç å— (code) - ä¿æŒæ·±è‰²èƒŒæ™¯æ¯”è¾ƒå¥½çœ‹ */
    code {
      color: #ef4444 !important; /* çº¢è‰²æ–‡å­— */
      background-color: rgba(125, 125, 125, 0.1);
      padding: 0.2em 0.4em;
      border-radius: 0.25rem;
    }
    pre {
      background-color: #18181b !important; /* é»‘è‰²èƒŒæ™¯ */
      color: #e4e4e7 !important; /* æµ…è‰²æ–‡å­— */
    }

    /* å–æ¶ˆæœ€å¤§å®½åº¦é™åˆ¶ */
    max-width: none !important;
  }
}

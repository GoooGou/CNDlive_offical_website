---
import Layout from './Layout.astro';
import Breadcrumb from '@/components/ui/Breadcrumb.astro';
import BackButton from '@/components/ui/BackButton.astro';

interface Props {
  title: string;           // é¡µé¢æ ‡é¢˜ (ä¼ ç»™ SEO)
  description?: string; 
  image?: string;       // ç¤¾äº¤åˆ†äº«å›¾
  schema?: object;      // ç»“æ„åŒ–æ•°æ®
  breadcrumbItems?: { label: string; href?: string }[]; // é¢åŒ…å±‘æ•°æ®
  backHref?: string;       // è¿”å›æŒ‰é’®é“¾æ¥ (å¦‚æœæœ‰æ‰æ˜¾ç¤º)
  backLabel?: string;      // è¿”å›æŒ‰é’®æ–‡å­—
}

const { 
  title, 
  // ğŸ”¥ 2. è§£æ„ï¼šæŠŠå®ƒä»¬å–å‡ºæ¥
  description,
  image,
  schema,
  breadcrumbItems = [], 
  backHref, 
  backLabel = "Back" 
} = Astro.props;
---

{/* 1. ç»§æ‰¿æœ€åŸºç¡€çš„å…¨å±€ Layout */}
<Layout title={title} description={description} image={image} schema={schema}>
  
  <main class="py-12 bg-black min-h-screen text-white ">
    <div class="container mx-auto px-4 max-w-7xl">
      
      {/* 2. é¡¶éƒ¨å¯¼èˆªåŒºåŸŸ (é¢åŒ…å±‘ + è¿”å›æŒ‰é’®) */}
      <div class="flex flex-col gap-6 mb-12 lg:flex-row lg:items-center justify-between align-center">
        
        {/* å¦‚æœä¼ äº†é¢åŒ…å±‘æ•°æ®ï¼Œå°±æ˜¾ç¤º */}
        {breadcrumbItems.length > 0 && (
          <Breadcrumb items={breadcrumbItems} />
        )}

        {/* å¦‚æœä¼ äº†è¿”å›é“¾æ¥ï¼Œå°±æ˜¾ç¤ºè¿”å›æŒ‰é’® */}
        {backHref && (
          <BackButton href={backHref} label={backLabel} />
        )}
        
      </div>

      {/* 3. é¡µé¢çš„å…·ä½“å†…å®¹æ’æ§½ */}
      <div class="animate-in fade-in slide-in-from-bottom-4 duration-500">
        <slot />
      </div>

    </div>
  </main>
</Layout>
---
// src/components/mdx/Callout.astro
import {
  Info,
  AlertTriangle,
  CheckCircle,
  XCircle,
  Lightbulb,
} from 'lucide-react';

interface Props {
  type?: 'info' | 'warning' | 'success' | 'error' | 'tip';
  title?: string;
}

const { type = 'info', title } = Astro.props;

const styles = {
  info: {
    container:
      'bg-blue-50 border-blue-300 dark:bg-blue-500/10 dark:border-blue-500/20',
    icon: 'text-blue-600 dark:text-blue-300',
    iconType: Info,
  },
  warning: {
    container:
      'bg-yellow-50 border-yellow-300 dark:bg-yellow-500/10 dark:border-yellow-500/20',
    icon: 'text-yellow-600 dark:text-yellow-300',
    iconType: AlertTriangle,
  },
  success: {
    container:
      'bg-green-50 border-green-300 dark:bg-green-500/10 dark:border-green-500/20',
    icon: 'text-green-600 dark:text-green-300',
    iconType: CheckCircle,
  },
  error: {
    container:
      'bg-red-50 border-red-300 dark:bg-red-500/10 dark:border-red-500/20',
    icon: 'text-red-600 dark:text-red-300',
    iconType: XCircle,
  },
  tip: {
    container:
      'bg-purple-50 border-purple-300 dark:bg-purple-500/10 dark:border-purple-500/20',
    icon: 'text-purple-600 dark:text-purple-300',
    iconType: Lightbulb,
  },
};

const currentStyle = styles[type];
const Icon = currentStyle.iconType;
---

{
  /* ğŸ”¥ æ ¸å¿ƒä¿®æ”¹ï¼šæ·»åŠ  `not-prose` ç±» 
  è¿™ä¼šå‘Šè¯‰ Tailwind Typography æ’ä»¶ï¼š"ä¸è¦ç¢°è¿™ä¸ª div é‡Œçš„ä»»ä½•æ ·å¼"
*/
}
<div
  class={`
  not-prose
  my-6 p-4 rounded-lg border-l-4 flex gap-4 items-start transition-colors duration-300
  ${currentStyle.container}
`}
>
  <Icon className={`mt-0.5 h-6 w-6 shrink-0 ${currentStyle.icon}`} />

  <div class="w-full min-w-0 space-y-1">
    {
      title && (
        <p class="text-base font-bold text-black dark:text-white">{title}</p>
      )
    }

    {
      /* ğŸ”¥ æ ·å¼é‡å†™ï¼š
      å› ä¸ºç”¨äº† not-proseï¼Œè¿™é‡Œçš„ p, a, strong éƒ½æ²¡æœ‰é»˜è®¤æ ·å¼äº†ã€‚
      æˆ‘ä»¬ä½¿ç”¨ [&_æ ‡ç­¾] çš„æ–¹å¼é‡æ–°å®šä¹‰å®ƒä»¬ï¼Œç¡®ä¿ç»å¯¹å—æ§ã€‚
      
      [&_p]: æ‰€æœ‰æ®µè½
      [&_a]: æ‰€æœ‰é“¾æ¥
      [&_strong]: æ‰€æœ‰åŠ ç²—
    */
    }
    <div
      class="/* ç»™æ®µè½ä¸€ç‚¹å¾®å°çš„é—´è· */ text-sm leading-relaxed text-black dark:text-zinc-100 [&_a]:font-bold [&_a]:text-black [&_a]:underline hover:[&_a]:opacity-80 dark:[&_a]:text-white [&_p]:my-1 [&_p]:text-black dark:[&_p]:text-zinc-100 [&_strong]:font-extrabold [&_strong]:text-black dark:[&_strong]:text-white"
    >
      <slot />
    </div>
  </div>
</div>

---
import ContentLayout from '@/layouts/ContentLayout.astro';
import PostGrid from '@/components/common/PostGrid.astro'; // ğŸ”¥ å¼•å…¥ä½ çš„è¶…çº§ç½‘æ ¼ç»„ä»¶
// ğŸ”¥ 1. ä¿®æ”¹å¼•å…¥ï¼šå¼•å…¥åˆ—è¡¨ç”Ÿæˆå™¨ï¼Œè€Œä¸æ˜¯äº§å“ç”Ÿæˆå™¨
import { generateItemListSchema } from '@/utils/seo';

interface Props {
  title: string;        // é¡µé¢æ ‡é¢˜ "Newsroom"
  subtitle?: string;    // å‰¯æ ‡é¢˜
  posts: any[];         // æ–‡ç« æ•°æ®
  basePath: string;     // åŸºç¡€è·¯å¾„ "/news"
}

const { title, subtitle, posts, basePath } = Astro.props;
// ğŸ”¥ 2. ç”Ÿæˆåˆ—è¡¨ç»“æ„åŒ–æ•°æ®
// å‘Šè¯‰ Googleï¼šè¿™æ˜¯ä¸€ä¸ªæ¸…å•ï¼Œé‡Œé¢æœ‰è¿™äº›æ–‡ç« ï¼Œé¡ºåºæ˜¯è¿™æ ·çš„
// ğŸ”¥ 2. ä¿®æ”¹è°ƒç”¨ï¼šæ”¹ä¸º generateItemListSchema
const listSchema = generateItemListSchema(
  title, 
  posts, 
  basePath, 
  Astro.site || new URL("https://cndlive.com")
);
//
---

{/* 1. å¤–å±‚ï¼šä½¿ç”¨ ContentLayout å¤„ç†é¢åŒ…å±‘ã€è¿”å›æŒ‰é’®ã€SEO */}
<ContentLayout 
  title={title}
  breadcrumbItems={[{ label: title }]} 
  backHref="/"
  schema={listSchema}
  backLabel="Back to Home"
>

  {/* 2. å¤´éƒ¨ï¼šæ ‡é¢˜åŒºåŸŸ */}
  <div class="mb-16 border-b border-zinc-800 pb-8">
    <h1 class="text-5xl font-bold mb-4 bg-gradient-to-r from-white to-zinc-500 bg-clip-text text-transparent">
      {title}
    </h1>
    {subtitle && <p class="text-zinc-400 text-lg max-w-2xl">{subtitle}</p>}
  </div>

  {/* 3. å†…å®¹ï¼šä½¿ç”¨ PostGrid å±•ç¤ºåˆ—è¡¨ */}
  {/* ğŸ”¥ è¿™é‡Œå¼ºåˆ¶ä½¿ç”¨ layout="grid"ï¼Œå› ä¸ºåˆ—è¡¨é¡µé€šå¸¸éƒ½æ˜¯ç½‘æ ¼å¸ƒå±€ */}
  <PostGrid 
    posts={posts} 
    basePath={basePath} 
    layout="grid" 
  />

</ContentLayout>
---
// src/components/Footer.astro
import { FOOTER_LINKS } from '@/data/footerData';
import NewsletterForm from '@/components/Newsletter.astro';
import SocialMediaButton from '@/components/ui/SocialMediaButton.astro';
const currentYear = new Date().getFullYear();
const { company, products, solutions, support } = FOOTER_LINKS;
---

<footer class="relative overflow-hidden bg-[#050505] pt-20 pb-8 text-white">
  {/* --- 背景装饰 (红色弧线 - 保持不变) --- */}
  <div
    class="border-primary/20 pointer-events-none absolute top-0 -left-20 h-64 w-64 rounded-full border opacity-50"
  >
  </div>
  <div
    class="border-primary/30 pointer-events-none absolute top-40 -right-20 h-96 w-96 rotate-45 rounded-full border-t opacity-50"
  >
  </div>

  <div class="relative z-10 mx-auto max-w-7xl px-6 lg:px-8">
    <NewsletterForm />

    {
      /* [关键修改]: 
      border-zinc-800: 强制使用深灰色边框 (不用 border-surface-border)
    */
    }
    <div
      class="my-12 grid grid-cols-2 gap-x-8 gap-y-12 border-t border-zinc-800 pt-16 md:grid-cols-3 lg:grid-cols-5"
    >
      {/* 辅助函数：渲染链接列 */}
      {/* 我们直接在这里写逻辑，避免重复代码 */}
      {
        [
          { title: company.title, items: company.items },
          { title: products.title, items: products.items },
          { title: solutions.title, items: solutions.items },
          { title: support.title, items: support.items },
        ].map((column) => (
          <div class="flex flex-col">
            <h4 class="mb-4 text-base font-bold tracking-wide text-white">
              {column.title}
            </h4>
            <ul class="space-y-1">
              {column.items.map((item) => (
                <li>
                  <a
                    href={item.href}
                    class="/* [关键修改]: (浅灰) -> (白) */ /* 不要用 text-text-muted，因为它在白色模式下是深灰，但在纯黑底上看不清 */ block py-1 text-sm text-zinc-400 transition-colors duration-200 hover:text-white"
                  >
                    {item.label}
                  </a>
                </li>
              ))}
            </ul>
          </div>
        ))
      }

      {/* Column 5: Stay Connected */}
      <div class="col-span-2 md:col-span-1 lg:col-span-1">
        <h4 class="mb-4 text-base font-bold tracking-wide text-white">
          Stay Connected
        </h4>
        <p class="mb-4 text-sm leading-relaxed text-zinc-400">
          Want to learn more from CNDLive about new product announcements and
          updates?
          <br />
          Visit our <a href="/contact" class="text-primary hover:underline"
            >Contact page</a
          > for more info.
        </p>
        <SocialMediaButton />
      </div>
    </div>

    {/* 3. 底部版权 */}
    <div
      class="flex flex-col items-center justify-center gap-4 border-t border-zinc-800 pt-8 text-xs text-zinc-500 md:flex-row"
    >
      <p>Copyright © {currentYear} CNDLive All Rights Reserved.</p>
      <a
        href="/privacy"
        class="underline underline-offset-2 transition hover:text-white"
      >
        Privacy Policy
      </a>
    </div>
  </div>
</footer>

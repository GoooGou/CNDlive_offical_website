---
interface Group {
  id: string;
  title: string;
  items: any[];
}

interface Props {
  groups: Group[];
}

const { groups } = Astro.props;

import SocialMediaButton from '@/components/ui/SocialMediaButton.astro';
---

<aside class="hidden lg:block">
  <div class="sticky top-4 overflow-y-auto pb-10">
    <nav class="space-y-1 border-l border-white/10">
      {
        groups.map(
          (group) =>
            group.items.length > 0 && (
              <a
                href={`#${group.id}`}
                class="group data-[active=true]:border-primary data-[active=true]:text-primary text-text-main hover:text-primary flex items-center border-l-2 border-transparent px-3 py-3 text-sm font-medium transition-colors hover:border-red-500 hover:bg-red-500/10"
                data-nav-link
              >
                <span class="truncate">{group.title}</span>
                <span class="text-text-main ml-auto text-xs opacity-0 transition-opacity group-hover:opacity-100 group-data-[active=true]:opacity-100">
                  {group.items.length}
                </span>
              </a>
            )
        )
      }
    </nav>

    {/* CTA 卡片 */}
    <div
      class="bg-surface-card border-surface-border mt-10 rounded-2xl border p-4"
    >
      <h3 class="text-text-main text-sm font-semibold">Need Help?</h3>
      <p class="text-medium text-text-main/60 text-md mt-2">
        Contact our sales team.
      </p>
      <a
        href="/contact"
        class="text-primary mt-4 inline-flex text-sm font-bold transition-colors hover:text-red-600"
      >
        Contact Sales &rarr;
      </a>
      <div class="mt-4">
        <SocialMediaButton />
      </div>
    </div>
  </div>
</aside>

---
// 1. 定义允许的尺寸和颜色类型
type TitleSize = 'sm' | 'md' | 'lg' | 'xl';
type TitleColor = 'primary' | 'slate' | 'white' | 'blue' | 'gradient';

interface Props {
  title: string;
  subtitle?: string; // 改为可选，灵活性更高
  paragraph?: string; // 新增段落描述
  tagline?: string;

  // ✨ 新增接口：控制标题大小 (默认 md)
  size?: TitleSize;

  // ✨ 新增接口：控制主色调 (默认 primary)
  color?: TitleColor;

  class?: string;
}

const {
  title,
  subtitle,
  paragraph,
  tagline,
  size = 'md', // 默认中等大小
  color = 'primary', // 默认使用主色
  class: className = '',
} = Astro.props;

// 2. 配置尺寸映射表 (移动端 -> 平板 -> 桌面端)
const sizeClasses: Record<TitleSize, string> = {
  sm: 'text-3xl md:text-4xl',
  md: 'text-4xl md:text-5xl lg:text-6xl', // 原有默认尺寸
  lg: 'text-5xl md:text-6xl lg:text-7xl', // 更具冲击力的大标题
  xl: 'text-6xl md:text-7xl lg:text-8xl', // 巨型标题
};

// 3. 配置颜色映射表
const colorClasses: Record<TitleColor, string> = {
  primary: 'text-primary dark:text-primary', // 使用 tailwind 配置的主色
  slate: 'text-slate-900 dark:text-white', // 标准黑/白
  white: 'text-white', // 纯白 (用于深色背景区)
  blue: 'text-blue-600 dark:text-blue-400', // 强制蓝色
  // 渐变文字效果
  gradient:
    'text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600 dark:from-blue-400 dark:to-purple-400',
};
---

<section
  class:list={['flex w-full flex-col items-center justify-center', className]}
>
  <div
    class="mx-auto max-w-5xl space-y-3 px-4 py-6 text-center md:space-y-5 md:py-10"
  >
    {
      /* 主标题 H1 
      动态应用 sizeClasses 和 colorClasses
    */
    }
    <h1
      class:list={[
        'font-bold tracking-tight transition-colors duration-300',
        sizeClasses[size], // 应用尺寸样式
        colorClasses[color], // 应用颜色样式
      ]}
    >
      {title}
    </h1>

    {/* 副标题 H3 */}
    {
      subtitle && (
        <h3
          class:list={[
            'leading-snug font-semibold text-slate-900 transition-colors duration-300 dark:text-slate-100',
            // 根据主标题大小，自动微调副标题大小
            size === 'sm' ? 'text-lg md:text-xl' : 'text-xl md:text-3xl',
          ]}
        >
          {subtitle}
        </h3>
      )
    }
    {
      paragraph && (
        <p class="text-text-main transition-colors duration-300">{paragraph}</p>
      )
    }
    {/* 胶囊标签 */}
    {
      tagline && (
        <div class="pt-2">
          <span class="inline-block border border-transparent bg-slate-100 px-4 py-1.5 text-sm font-medium text-slate-600 transition-colors duration-300 md:text-base dark:border-slate-700 dark:bg-slate-800/80 dark:text-slate-300">
            {tagline}
          </span>
        </div>
      )
    }
  </div>
</section>

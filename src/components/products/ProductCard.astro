---
// src/components/products/ProductCard.astro
import { ArrowRight } from 'lucide-react';
import type { CollectionEntry } from 'astro:content';

// ğŸ”¥ å¼•å…¥ä½ çš„è‡ªå®šä¹‰ Cover ç»„ä»¶
// è¯·æ ¹æ®å®é™…è·¯å¾„ä¿®æ”¹ï¼Œä¾‹å¦‚ '../common/Cover.astro' æˆ– '@/components/common/Cover.astro'
import Cover from '@/components/common/Cover.astro';

interface Props {
  post: CollectionEntry<'products'>;
}

const { post } = Astro.props;
console.log(post);
---

<a
  href={`/products/${post.id}`}
  class="group hover:shadow-primary/10 bg-surface-card border-surface-border relative flex flex-col overflow-hidden rounded-2xl border transition-all hover:-translate-y-1 hover:shadow-2xl"
>
  {/* å›¾ç‰‡åŒºåŸŸ */}
  <div class="aspect-4/3 w-full overflow-hidden bg-gray-800">
    {/* ğŸ”¥ ä½¿ç”¨å°è£…çš„ Cover ç»„ä»¶ */}
    {/* ä¼ å…¥ post.data.cover æ•°æ® */}
    <Cover
      src={post.data.cover}
      alt={post.data.title}
      border={false}
      className="h-full w-full object-cover object-center transition-transform duration-500 group-hover:scale-105"
    />
  </div>

  {/* å†…å®¹åŒºåŸŸ */}
  <div class="flex flex-1 flex-col p-5">
    {/* æ ‡é¢˜ */}
    <h3
      class="group-hover:text-primary text-text-main text-lg font-semibold transition-colors"
    >
      {post.data.title}
    </h3>

    {/* æè¿° */}
    <p class="mt-2 line-clamp-2 flex-1 text-sm text-gray-400">
      {post.data.description}
    </p>

    {/* åº•éƒ¨ Link */}
    <div class="text-primary mt-4 flex items-center text-sm font-medium">
      View Details
      <ArrowRight
        className="ml-2 h-4 w-4 transition-transform group-hover:translate-x-1"
      />
    </div>
  </div>
</a>

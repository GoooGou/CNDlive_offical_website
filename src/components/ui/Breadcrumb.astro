---
import { ChevronRight, Home } from 'lucide-react';

// 定义每一项的数据结构
interface BreadcrumbItem {
  label: string;
  href?: string;
}

interface Props {
  items: BreadcrumbItem[];
}

const { items } = Astro.props;
---

<nav aria-label="Breadcrumb">
  {
    /* [修改]: text-zinc-500 -> text-text-muted (默认显示灰色) 
    [添加]: transition-colors (平滑过渡)
  */
  }
  <ol
    class="text-text-muted flex items-center gap-2 text-sm transition-colors duration-300"
  >
    {/* 1. 固定显示的 Home 图标 */}
    <li>
      <a
        href="/"
        class="hover:text-text-main flex items-center transition-colors"
        aria-label="Home"
      >
        <Home className="h-4 w-4" />
      </a>
    </li>

    {/* 2. 循环渲染传入的路径 */}
    {
      items.map((item) => (
        <li class="flex items-center gap-2">
          {/* 分隔符 */}
          {/* [修改]: text-zinc-700 -> text-text-muted/50 (使用半透明灰色) */}
          <ChevronRight className="w-4 h-4 text-text-muted/50" />

          {item.href ? (
            // 如果有链接
            <a
              href={item.href}
              class="hover:text-text-main whitespace-nowrap transition-colors"
            >
              {item.label}
            </a>
          ) : (
            // 如果是当前页 (不可点)
            <span
              class="text-text-main line-clamp-1 max-w-[150px] font-medium sm:max-w-md"
              title={item.label}
            >
              {item.label}
            </span>
          )}
        </li>
      ))
    }
  </ol>
</nav>
